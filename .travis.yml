language: java
jdk:
- openjdk8
install: mvn --version
before_script: ".travis/version_if_tag.sh"
after_success: ".travis/deploy_if_tag.sh"
deploy:
  provider: releases
  api_key:
    secure: b6Yg4RozAj/jTb9yXvdvDKMluxnaTzZz/c46CBJ4Qu/21PgWrxDRkw/tH39slxmxELpuKGpF/7dpc0zA3S8+qO0EbmUnqrfScfBhfNC3niSPASRik2Txb28fmeSVJOeZZeBDZ57RrULNsm789MWswMnIXp8bL9/KgCzK9Q0kWZNxHO8IRTuoUak1w/yPDrcJDwmv5Eq78v14lhTvnCDi/KZioNPzsuZMNou3uj79du/9tPyIIcf04h4zEtIEtSIy2PbbuWqxsvcb/KAJw1UkdIxm7y3akTMGSQkTWxunDsh2qtnrWF/W9AdvhPOVI+4upH/SV8++7WVn20bkBGtZhaMx9XP4qYUn9ni9UdY9c7glZulzrqhwKIYMny6yiz0435e3r8Uav56Fvvyb2mMfnX3z/SQQ5eiwlgZv5Du9djcEFhKGoJlezx94ApW+baDi5CJKel0ZPN4AR8HI9DuQuyas7KEIOk5TMnrMqfINz5Rgl42Jdbgklu3S4RfBEBGb9PFlw2QuHznuuZ/Eo8H1NQ0jO3tD8rSSpPiEA05kDkzSN7wCVLzmQrun9Ukg53JIU4WlYy1k6UNy9LIK7xabPCJIANy+vXczU3LrUQYif/WW05s7tZfDWnVORqq7AGvN3IfA3tIUpCT2AUdvwa9a9SZOHn+mWd/PV/OIB5BcMqo=
  file:
  - target/preston.jar
  - target/preston.deb
  - target/preston.image.tar
  skip_cleanup: true
  on:
    repo: bio-guoda/preston
    tags: true
env:
  global:
  - secure: hcnZ208Ax/b9wVidDBPuqb52kCCKaGCSHLi8dNrMX+KX1Am5zXle0fJOa/k8nYxMZnEpvsbz8wzGmhETl/7Ly/NETQT5p558Ek/jD7ii8L38L524yBEn4i9EY4Y7t+KBTXGgOEm5tLn5NoFxl9oIldbzDAlTgRii2OwOIyPOZkg4srYGzg+CGAWbTyYuvmjIjhNsMpDM4TnbZs2h/siwfNsWMMZ/lSVjDJatUE0IQyYniKwFPHF3Qf5Cem7PPOjnw1WDDV2mqihPpBYkvvTnVnDkCVyCgI2pDRekyf6IqWdsqUZoUgOm/spNzp084r5ILOd/TOVKt9Dewbw3V1teK7vPTVyYkr5FtriYB0l+wDQQAiwUOnfSf0t+44tWkeRkfXGoawhYpEU/2McdaqyGBNDT7Zy4/NTMnOscA4KQ+rrLDrHSLwdgygxUmFiK0jw2udLb7FEUJU4TijEbHWeISm4OeFJc1ON9GQ2m6ao+KByitGE9xb3l/6zDrH2t5xTZ9HbL7eh4em3mYdSQgK+wesjT7W6DAasaD45M41kEDqZLLxX5Il/DWAwgKWJK7VAS0RvgPfnIt3s2ImNeT2bf2iuVbG2YXDFa973XKI51Am5HjrKS5WZFoGldtdJsdHG6rhRYjSOanJ4WcfFXH2m7rinCLrLT02uUUEJBqIEv1rE=
  - secure: ilLDrg7PSaNudv5xagBOojqp/gC+Fxtz/OB8vL8+jbG2b6zUmyVOMuu1CpR1Ux9utf4svWcGcvzRkFhs7bxaxYBQQHakHDQUAEiUXfX7ABiGGgNXooDAUHYDq2bAkTtI/BmSVErogqIOKNXkzFbaraLiQ04KHOD//Z1vuoMfw/hqjVIgbnKQs/WtDmoWjM0aHlNB8IX2961fXLhu+HtegdjwdVUr9gL4PSFc5hKQVZd9pJiuRpnZpe9Z8lhZQI5JT1UiYqLFC+yLZNgAW54A2BG/0JTvBwwiuLTNvj9wFed4j3g7HFck95IDCvonMGW7wHlPwRheAcpfzL6cwACCAZUPZbP/9mUtby6w+fg2dI1lVMFI2w+10amzmLCkLJN4g4+zeDLSu7zlo35JYFDI4TF5SgqhiWG9GosGkMnhISty6Q5bgebCmQ5BGqar0xCSQT/3VV65IM8e9u4nWWppwtY9dcJQmzXBrrX8c0n1TTrV1oJ8LgcUaQv8izMUNZKX6O61q50nYo1eMk/2kxhPQQIcKM+2BGN32/p8L83ccip3VRYiFoplTEolWN/pXhOfh179W3Jr2Fpa9gWDSNcZUbYesePtwIL1Jwl8EnwrIjp9ezYKMZDraWcvWQJ7B4MLgh6Peq1L1XlxdVY3huqxpiBtbn14OwK9EvqipXOaAUA=
  - secure: QPr4oTvXyedPU2i8hnnpEzmtRY3jo3W+F0KAbldSbbt+4oTtjLnabz3Cu/XNAGA98ApyRh1Iwa1kmJZS/f0SASCIonBZKF3uC0m/wux1LoHnNRf8KTzcInb8TlEupffANFeivFqHXPOBIfl1hrBGljhgGLy6TRpFGWzFG+vWlOO7jtg4Wh3MEM8KHf9So+BaK0jJw10dFLw7KAnlTYeTAOh+QV4DBooAs5Kf243HB8ZJK0k9Bya9QWxwdWgfDzyg2tqh0Y+woVx02gya7F6Ie8fu/uQXYnX1iYK4aHVGJQMLtJYxlr7jYinKsUt6aaJbvGxWuKXVExI/gbUcKlVFlP8emiHhQCRLegdrjqH7Ix56H0Fu678sExKrbXTHxU+Fgx2NfyZ0V5hDYCDzbeYuuAdO7Ivvp1u92ni0sQijWt0rIJEu1OHdJUphWzT/13JApXJaDag98ju0FvfbCNIrHcuS67DSECvrjs++VA6dEnbjJElaUURYT1k8WKAgGzRuXaLABAxiy3uLHbSxznkJF7KjXanmzjjvvMoyfsJatb5UHpn+sK9r4WKhnycyR/2mnV3RvXuF5U0Nv4c5ZkchEkJ/DkmHNuxhRJrAxea3iyRO19YHCxgGQ2kX9LIDAKe4Mjc5hz3dWNZ3rejJ9bn/p20bT8253pZw6cJt76OFDXE=
