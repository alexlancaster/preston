digraph G {
    rankdir="LR"
    
    subgraph cluster_0 {
        style=filled
        color=lightgrey
        node [style=filled, color=white, shape=Mrectangle]
        label = "Inputs"
        url [label="URL"]
        previousProvHash [label="Provenance hash"]
    }
    
    subgraph cluster_1 {
        label = "Preston"
        dereference [label="Dereference"]
        generateProvenance [label="Describe processes"]
        computeContentHash [label="Compute SHA256 hash"]
        computeProvHash [label="Compute SHA256 hash"]
    }
    
    subgraph cluster_2 {
        style=filled
        color=lightgrey
        node [style=filled, color=white, shape=Mrectangle, fillcolor=white]
        label = "Outputs"
        content [label="Content", shape=box3d, color=gray]
        contentHash [label="Content hash"]
        newProv [label="Provenance", shape=box3d, color=gray]
        newProvHash [label="Provenance hash"]
    }
    
    url -> dereference -> content
    content -> computeContentHash -> contentHash
    url, previousProvHash, contentHash -> generateProvenance -> newProv
    newProv -> computeProvHash -> newProvHash
}
